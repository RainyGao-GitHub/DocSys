<div style="height:550px;overflow-y:auto">
        <div class="manual-right width:80%" >
            <div class="manual-article">
               <div class="article-body editor-content"  id="doc" style="min-height: 650px">
               		<div class="panel-body eventset-list" >	
	               		<li style="margin-top: 0px;">
							<i class="cell path w30"><input type="input" class="form-control" id="ignorePath" placeholder="请输入文件或目录路径"></i>
							<i class="cell operation w10"><button onclick="addPathToVersionIgnoreList()" class="btn btn-md btn-primary" style="margin-left: 5px;">添加</button></i>						
							<i class="cell operation w10"><button onclick="removePathFromVersionIgnoreList()" class="btn btn-md btn-primary" style="margin-left: 5px;">删除</button></i>						
							<i class="cell operation w10"><button onclick="cleanVersionIgnoreList()" class="btn btn-md btn-primary" style="margin-left: 5px;">清除忽略列表</button></i>												
						</li>
	               		<li class="eventset-tit" style="margin-top: 0px;">
							<i class="cell select w5">选择</i>
							<i class="cell path w15" >路径</i>
							<i class="cell status w15">状态</i>
							<i class="cell operation w10">操作</i>						
						</li>
					</div>
               		<div class="panel-body eventset-list" id="reposVersionIgnoreList">
			 			<!-- 版本管理忽略列表区域-->
					</div>
			 </div>
			</div>
		</div>
</div>

<script type="text/javascript">
//页面初始化代码    
$(function(){
	VersionIgnoreMange.init();
});

var VersionIgnoreMange = (function () {
    /*全局变量*/
    var reposId;
	
	function reposVersionIgnoreMangePageInit()
	{
		console.log("reposVersionIgnoreMangePageInit");
		reposId = getQueryString("vid");
		showReposVersionIngoreList();		
	}

	function showReposVersionIngoreList(){
	   	console.log("showReposVersionIngoreList()");
	    $.ajax({
	            url : "/DocSystem/Repos/getReposVersionIgnorList.do",
	            type : "post",
	            dataType : "json",
	            data : {
	                reposId : reposId,
	            },
	            success : function (ret) {
	                if( "ok" == ret.status ){
	                    showList(ret.data);
	                }
	                else
	                {
	                	alert("Error:" + ret.msgInfo);
	                }
	            },
	            error : function () {
	               alert('获取版本忽略列表失败:服务器异常');
	            }
    	});

		//绘制列表
		function showList(data){
			console.log(data);
			var c = $("#reposVersionIgnoreList").children();
			$(c).remove();
			if(data.length==0){
				$("#reposVersionIgnoreList").append("<p>暂无数据</p>");
			}
			
			for(var i=0;i<data.length;i++){
				var d = data[i];
				var opBtn = "		<a href='javascript:void(0)' onclick='removeDocFromVersionIgnoreList("+d.path+"," +d.name+ ");' class='mybtn-primary'>移除</a>";
													
				var se = "<li value="+ i +">"
					+"	<i class='cell select w5'>"
					+"		<input class='IgnoreEntrySelect' id='IgnoreEntrySelect"+i+"' value='" + d.path + d.name + "' type='checkbox' onclick='onSelectIgnoreItem()'/>"
					+"	</i> "
					+"	<i class='cell path w15'>"
					+"		<span class='path'>"
					+"			<a id='IgnoreEntry"+i+"' href='javascript:void(0)'>" + d.path + d.name + "</a>"
					+"		</span>"
					+"	</i>"
					+"	<i class='cell status w15'>"
					+"		<span class='status'>"
					+"			<a id='IgnoreEntryStatus"+i+"' href='javascript:void(0)'>版本已忽略</a>"
					+"		</span>"
					+"	</i>"
					+"	<i class='cell operation w10'>"
					+		opBtn
					+"	</i>"
					+"</li>";				
				$("#reposVersionIgnoreList").append(se);
			}
		}
	}
	//开放给外部的调用接口
    return {
        init: function(){
        	reposVersionIgnoreMangePageInit();
        },
    };
})();

</script>
