{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d8ea9a2e2d7160878caf","webpack:///./src/index.js"],"names":["styleContent","createStyle","styleEl","document","createElement","type","innerHTML","head","appendChild","containerHtml","origin","window","location","protocol","host","urlParser","Stackedit","opts","$options","url","$listeners","Object","keys","forEach","key","payload","listeners","setTimeout","listener","push","idx","indexOf","splice","length","file","silent","close","href","$origin","content","params","fileName","name","contentText","text","contentProperties","yamlProperties","properties","JSON","stringify","serializedParams","map","encodeURIComponent","join","hash","$containerEl","className","body","iframeEl","querySelector","src","closeButton","addEventListener","$messageHandler","event","source","contentWindow","data","parentNode","removeChild","$trigger","removeEventListener","replace"],"mappings":"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","file":"stackedit.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Stackedit\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Stackedit\"] = factory();\n\telse\n\t\troot[\"Stackedit\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d8ea9a2e2d7160878caf","const styleContent = `\n.stackedit-no-overflow {\n  overflow: hidden;\n}\n\n.stackedit-container {\n  background-color: rgba(160, 160, 160, 0.5);\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 9999;\n}\n\n.stackedit-hidden-container {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  left: -99px;\n}\n\n.stackedit-iframe-container {\n  background-color: #fff;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 98%;\n  width: 98%;\n  max-width: 1280px;\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n.stackedit-iframe {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  border: 0;\n  border-radius: 2px;\n}\n\n@media (max-width: 740px) {\n  .stackedit-iframe-container {\n    height: 100%;\n    width: 100%;\n    border-radius: 0;\n  }\n\n  .stackedit-iframe {\n    border-radius: 0;\n  }\n}\n\n.stackedit-close-button {\n  position: absolute !important;\n  box-sizing: border-box !important;\n  width: 38px !important;\n  height: 36px !important;\n  margin: 4px !important;\n  padding: 0 4px !important;\n  text-align: center !important;\n  vertical-align: middle !important;\n  text-decoration: none !important;\n}\n`;\n\nlet createStyle = () => {\n  const styleEl = document.createElement('style');\n  styleEl.type = 'text/css';\n  styleEl.innerHTML = styleContent;\n  document.head.appendChild(styleEl);\n  createStyle = () => {}; // Create style only once\n};\n\nconst containerHtml = `\n<div class=\"stackedit-iframe-container\">\n  <iframe class=\"stackedit-iframe\"></iframe>\n  <a href=\"javascript:void(0)\" class=\"stackedit-close-button\" title=\"Close\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"100%\" height=\"100%\">\n      <path fill=\"#777\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n    </svg>\n  </a>\n</div>\n`;\n\nconst origin = `${window.location.protocol}//${window.location.host}`;\nconst urlParser = document.createElement('a');\n\nclass Stackedit {\n  $options = {\n    url: 'https://stackedit.io/app',\n  };\n\n  constructor(opts = {}) {\n    // Override options\n    Object.keys(opts).forEach((key) => {\n      this.$options[key] = opts[key];\n    });\n  }\n\n  // For emitting events\n  $listeners = {};\n  $trigger(type, payload) {\n    const listeners = this.$listeners[type] || [];\n    // Use setTimeout as a way to ignore errors\n    listeners.forEach(listener => setTimeout(() => listener(payload), 1));\n  }\n\n  on(type, listener) {\n    const listeners = this.$listeners[type] || [];\n    listeners.push(listener);\n    this.$listeners[type] = listeners;\n  }\n\n  off(type, listener) {\n    const listeners = this.$listeners[type] || [];\n    const idx = listeners.indexOf(listener);\n    if (idx >= 0) {\n      listeners.splice(idx, 1);\n      if (listeners.length) {\n        this.$listeners[type] = listeners;\n      } else {\n        delete this.$listeners[type];\n      }\n    }\n  }\n\n  openFile(file = {}, silent = false) {\n    // Close before opening a new iframe\n    this.close();\n\n    // Make StackEdit URL\n    urlParser.href = this.$options.url;\n    this.$origin = `${urlParser.protocol}//${urlParser.host}`; // Save StackEdit origin\n    const content = file.content || {};\n    const params = {\n      origin,\n      fileName: file.name,\n      contentText: content.text,\n      contentProperties: !content.yamlProperties && content.properties\n        ? JSON.stringify(content.properties) // Use JSON serialized properties as YAML properties\n        : content.yamlProperties,\n      silent,\n    };\n    const serializedParams = Object.keys(params)\n      .map(key => `${key}=${encodeURIComponent(params[key] || '')}`)\n      .join('&');\n    urlParser.hash = `#${serializedParams}`;\n\n    // Make the iframe\n    createStyle();\n    this.$containerEl = document.createElement('div');\n    this.$containerEl.className = silent\n      ? 'stackedit-hidden-container'\n      : 'stackedit-container';\n    this.$containerEl.innerHTML = containerHtml;\n    document.body.appendChild(this.$containerEl);\n\n    // Load StackEdit in the iframe\n    const iframeEl = this.$containerEl.querySelector('iframe');\n    iframeEl.src = urlParser.href;\n\n    // Add close button handler\n    const closeButton = this.$containerEl.querySelector('a');\n    closeButton.addEventListener('click', () => this.close());\n\n    // Add message handler\n    this.$messageHandler = (event) => {\n      if (event.origin === this.$origin && event.source === iframeEl.contentWindow) {\n        switch (event.data.type) {\n          case 'ready':\n            // StackEdit has its own one close button\n            closeButton.parentNode.removeChild(closeButton);\n            break;\n          case 'fileChange':\n            // Trigger fileChange event\n            this.$trigger('fileChange', event.data.payload);\n            if (silent) {\n              this.close();\n            }\n            break;\n          case 'close':\n          default:\n            this.close();\n        }\n      }\n    };\n    window.addEventListener('message', this.$messageHandler);\n\n    if (!silent) {\n      // Remove body scrollbars\n      document.body.className += ' stackedit-no-overflow';\n    }\n  }\n\n  close() {\n    if (this.$messageHandler) {\n      // Clean everything\n      window.removeEventListener('message', this.$messageHandler);\n      document.body.removeChild(this.$containerEl);\n\n      // Release memory\n      this.$messageHandler = null;\n      this.$containerEl = null;\n\n      // Restore body scrollbars\n      document.body.className = document.body.className.replace(/\\sstackedit-no-overflow\\b/, '');\n\n      // Trigger close event\n      this.$trigger('close');\n    }\n  }\n}\n\nexport default Stackedit;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}