<script type="text/javascript">
	var gCurReposInfo;
	function EditReposPageInit(_reposInfo)
	{
		console.log("EditReposPageInit() reposInfo:", _reposInfo);
		gCurReposInfo = _reposInfo;
		showReposBasicSetting(_reposInfo);	    

		EnterKeyListenerForEditRepos();
	}
	
	function showEditReposModal(text){
		$(".editReposModal").fadeIn("slow");
		$("#name").focus();
	}
	
	function closeEditReposModal(){
		$(".editReposModal").fadeOut("slow");
	}
	
	//回车键监听函数
	function EnterKeyListenerForEditRepos(){
		console.log("start enter key listener");
		var event=arguments.callee.caller.arguments[0]||window.event;//消除浏览器差异  
	 	if (event.keyCode == 13){  
	 		saveReposBasicSetting();
	 	}  
	}
	
	function saveReposBasicSetting()
	{
		console.log("saveReposBasicSetting");
		var newReposSetting = [];
		newReposSetting.vid = $("#reposId").val();
		newReposSetting.name = $("#name").val();
		newReposSetting.info = $("#info").val();
		newReposSetting.type =  $("#type").val();	//Real DocSystem
		newReposSetting.path = $("#path").val();
		newReposSetting.realDocPath = $("#realDocPath").val();
		var remoteStorage = getRemoteStorageConfig();
	    newReposSetting.remoteStorage = remoteStorage;
		newReposSetting.verCtrl = $("#verCtrl").val();
		newReposSetting.isRemote =  $("#isRemote").is(':checked')? 1: 0;
		newReposSetting.localSvnPath = $("#localSvnPath").val();
		newReposSetting.svnPath = $("#svnPath").val();
		newReposSetting.svnUser = $("#svnUser").val();
		newReposSetting.svnPwd = $("#svnPwd").val();
		newReposSetting.verCtrl1 = $("#verCtrl1").val();
		newReposSetting.isRemote1 =  $("#isRemote1").is(':checked')? 1: 0;
		newReposSetting.localSvnPath1 = $("#localSvnPath1").val();
		newReposSetting.svnPath1 = $("#svnPath1").val();
		newReposSetting.svnUser1 = $("#svnUser1").val();
		newReposSetting.svnPwd1 = $("#svnPwd1").val();
		newReposSetting.isTextSearchEnabled =  $("#isTextSearchEnabled").is(':checked')? 1: 0;
		newReposSetting.encryptType =  $("#isEncryptEnabled").is(':checked')? 1: 0;
		
		if(newReposSetting.isRemote == 0)
		{
			newReposSetting.localSvnPath = newReposSetting.path + "DocSysVerReposes/";
		}
		
		if(newReposSetting.isRemote1 == 0)
		{
			newReposSetting.localSvnPath1 = newReposSetting.path + "DocSysVerReposes/";        		
		}
		console.log("saveReposBasicSetting newReposSetting:", newReposSetting);
		
		if(verifyReposSetting(gCurReposInfo,newReposSetting) == true)
		{	
	   		$.ajax({
	                url : "/DocSystem/Repos/updateReposInfo.do",
	                type : "post",
	                dataType : "json",
	                data : {
	                	reposId : newReposSetting.vid,
	                    name : newReposSetting.name,
	                    info : newReposSetting.info,
	                    type : newReposSetting.type,
	                    path : newReposSetting.path,
	                    realDocPath : newReposSetting.realDocPath,
	                    remoteStorage : newReposSetting.remoteStorage,
	                    verCtrl : newReposSetting.verCtrl,
	                    isRemote : newReposSetting.isRemote,
	                    localSvnPath : newReposSetting.localSvnPath,
	                    svnPath : newReposSetting.svnPath,
	                    svnUser : newReposSetting.svnUser,
	                    svnPwd : newReposSetting.svnPwd,
	                    verCtrl1 : newReposSetting.verCtrl1,
	                    isRemote1 : newReposSetting.isRemote1,
	                    localSvnPath1 : newReposSetting.localSvnPath1,
	                    svnPath1 : newReposSetting.svnPath1,
	                    svnUser1 : newReposSetting.svnUser1,
	                    svnPwd1 : newReposSetting.svnPwd1,
	                    isTextSearchEnabled: newReposSetting.isTextSearchEnabled,
	                    encryptType : newReposSetting.encryptType,
	                },
	                success : function (ret) {
	                	if(ret.status == "ok")
	                	{
	                		console.log("更新仓库设置成功");
	                		showReposList();
	                		alert("修改成功");
		                }
	                    else
	                    {
	                    	alert("修改失败:" + ret.msgInfo);
	                    }
	                },
	                error : function () {
	                    alert('修改成功: 服务器异常');
	                }
	            });
	            return true;
	       }
	       else
	       {
	            return false;
	       }    
	       
	       function verifyReposSetting(oldSetting, newSetting)
	       {
	       		if(oldSetting.name != newSetting.name)
	       		{
	       			console.log("verifyReposSetting name changed");
	       			return true;
	       		}
	       		
	       		if(oldSetting.type != newSetting.type)
	       		{
	       			alert("仓库类型不能修改");
	       			return false;
	       		}
	       		
	       		if(oldSetting.path != newSetting.path)
	       		{
	       			console.log("verifyReposSetting path changed");
	       			return true;
	       		}
	       		
	       		if(oldSetting.realDocPath != newSetting.realDocPath)
	       		{
	       			console.log("verifyReposSetting realDocPath changed");
	       			return true;
	       		}
	       		
	       		if(oldSetting.remoteStorage != newSetting.remoteStorage)
	       		{
	       			console.log("verifyReposSetting remoteStorage changed");
	       			return true;
	       		}
	       		
	       		if(oldSetting.info != newSetting.info)
	       		{
	       			console.log("verifyReposSetting info changed");
	       			return true;
	       		}
	       		if(oldSetting.verCtrl != newSetting.verCtrl)
	       		{
	       			console.log("verifyReposSetting verCtrl changed");
	       			return true;
	       		}
	       		if(oldSetting.isRemote != newSetting.isRemote)
	       		{
	       			console.log("verifyReposSetting isRemote changed");
	       			return true;
	       		}
	       		if(oldSetting.localSvnPath != newSetting.localSvnPath)
	       		{
	       			console.log("verifyReposSetting localSvnPath changed");
	       			return true;
	       		}
	       		if(oldSetting.svnPath != newSetting.svnPath)
	       		{
	       			console.log("verifyReposSetting svnPath changed");
	       			return true;
	       		}
	       		if(oldSetting.svnUser != newSetting.svnUser)
	       		{
	       			console.log("verifyReposSetting svnUser changed");
	       			return true;
	       		}
	       		if(oldSetting.svnPwd != newSetting.svnPwd)
	       		{
	       			console.log("verifyReposSetting svnPwd changed");
	       			return true;
	       		}
	       		if(oldSetting.verCtrl1 != newSetting.verCtrl1)
	       		{
	       			console.log("verifyReposSetting verCtrl1 changed");	       			
	       			return true;
	       		}
	       		if(oldSetting.isRemote1 != newSetting.isRemote1)
	       		{
	       			console.log("verifyReposSetting isRemote1 changed");	       			
	       			return true;
	       		}
	       		if(oldSetting.localSvnPath1 != newSetting.localSvnPath1)
	       		{
	       			console.log("verifyReposSetting localSvnPath1 changed");	       			
	       			return true;
	       		}
	       		if(oldSetting.svnPath1 != newSetting.svnPath1)
	       		{
	       			console.log("verifyReposSetting svnPath1 changed");	       			
	       			return true;
	       		}
	       		if(oldSetting.svnUser1 != newSetting.svnUser1)
	       		{
	       			console.log("verifyReposSetting svnUser1 changed");	       			
	       			return true;
	       		}
	       		if(oldSetting.svnPwd1 != newSetting.svnPwd1)
	       		{
	       			console.log("verifyReposSetting svnPwd1 changed");	       			
	       			return true;
	       		} 
	       		
	       		if(oldSetting.isTextSearchEnabled != newSetting.isTextSearchEnabled)
	       		{
	       			console.log("verifyReposSetting isTextSearchEnabled changed");	       			
	       			return true;
	       		}
	       		
	       		if(oldSetting.encryptType != newSetting.encryptType)
	       		{
	       			console.log("verifyReposSetting encryptType changed");	       			
	       			return true;
	       		}
	       		alert("仓库信息未变化！");
	       		return false;
	       }  
	}
	
	function showReposBasicSetting(reposInfo)
	{
	   	$("#name").val(reposInfo.name);
	   	$("#info").val(reposInfo.info);
	   	$("#path").val(reposInfo.path);
	   	$("#type option[value='"+reposInfo.type+"']").attr("selected","selected");
	   	$("#realDocPath").val(reposInfo.realDocPath);
	   	
	   	showRemoteStorageConfig(reposInfo);
	   	
	   	$("#verCtrl option[value='"+reposInfo.verCtrl+"']").attr("selected","selected");
	   	if(reposInfo.isRemote == 0)
	   	{
		   	$("#isRemote").attr("checked",false);
	   	}
	   	else
	   	{
		   	$("#isRemote").attr("checked","checked");
		   	
	   	}
	   	$("#localSvnPath").val(reposInfo.localSvnPath);
	   	$("#svnPath").val(reposInfo.svnPath);
	   	$("#svnUser").val(reposInfo.svnUser);
	   	$("#svnPwd").val(reposInfo.svnPwd);
	   	$("#verCtrl1 option[value='"+reposInfo.verCtrl1+"']").attr("selected","selected");
	   	if(reposInfo.isRemote1 == 0)
	   	{
		   	$("#isRemote1").attr("checked",false);	   		
	   	}
	   	else
	   	{
		   	$("#isRemote1").attr("checked","checked");
	   	}
	   	$("#localSvnPath1").val(reposInfo.localSvnPath1);
	   	$("#svnPath1").val(reposInfo.svnPath1);
	   	$("#svnUser1").val(reposInfo.svnUser1);
	   	$("#svnPwd1").val(reposInfo.svnPwd1);
   		
	   	if(reposInfo.isTextSearchEnabled == 0)
	   	{
		   	$("#isTextSearchEnabled").attr("checked",false);
	   	}
	   	else
	   	{
		   	$("#isTextSearchEnabled").attr("checked","checked");
	   	}
	   	
	   	if(reposInfo.encryptType == 0)
	   	{
		   	$("#isEncryptEnabled").attr("checked",false);
	   	}
	   	else
	   	{
		   	$("#isEncryptEnabled").attr("checked","checked");
	   	}
	   	
	   	
	   	doSelectVerCtrl();
	   	doSelectVerCtrl1();
	}
	
	function doSelectFS()
	{
		var type = $("#type").val();
		
		if(type == 1)	//文件管理系统
		{
			//RealDoc verCtrl
			$("#realDocVerCtrlDiv").show();
			$("#verCtrl").get(0).selectedIndex=0;
			$("#verCtrl").attr('disabled',false);
			
			//virtualDoc verCtrl 默认总是Git
			$("#virtualDocVerCtrlDiv").show();
			$("#verCtrl1").get(0).selectedIndex=2;
		}
		else if(type == 2) //文件系统前置
		{
			$("#realDocVerCtrlDiv").hide();
			$("#verCtrl").get(0).selectedIndex=0;
			
			//virtualDoc verCtrl 默认总是Git
			$("#virtualDocVerCtrlDiv").show();
			$("#verCtrl1").get(0).selectedIndex=2;
		}
		else if(type == 3)	//SVN前置
		{
			//RealDoc verCtrl
			$("#realDocVerCtrlDiv").show();
			$("#verCtrl").get(0).selectedIndex=1;
			$("#verCtrl").attr('disabled',true);

			//virtualDoc verCtrl 默认总是Git
			$("#virtualDocVerCtrlDiv").show();
			$("#verCtrl1").get(0).selectedIndex=2;
		}
		else if(type == 4)	//GIT前置
		{
			//RealDoc verCtrl
			$("#realDocVerCtrlDiv").show();
			$("#verCtrl").get(0).selectedIndex=2;
			$("#verCtrl").attr('disabled',true);
			
			//virtualDoc verCtrl 默认总是Git
			$("#virtualDocVerCtrlDiv").show();
			$("#verCtrl1").get(0).selectedIndex=2;
		}
		doSelectVerCtrl();
		doSelectVerCtrl1();			
	}
	
	function showRemoteStorageConfig(reposInfo)
	{
		var remoteStorage = "";
		if(reposInfo.remoteStorageConfig == undefined)
	   	{
			$("#remoteStorageConfig").hide();
			$("#remoteStorageProtocol option[value='']").attr("selected","selected");		
			return;
	   	}
		
		var protocol = reposInfo.remoteStorageConfig.protocol;
		if(protocol == undefined || protocol == "")
		{
			$("#remoteStorageProtocol option[value='']").attr("selected","selected");			
			$("#remoteStorageConfig").hide();
			return;
		}
		
		$("#remoteStorageConfig").show();			
		$("#remoteStorageProtocol option[value='" + protocol + "']").attr("selected","selected");	
		
		var remoteStorage = "";
		switch(protocol)
		{
		case "ftp":
			remoteStorage = protocol + "://" + reposInfo.remoteStorageConfig.FTP.host;
			if(reposInfo.remoteStorageConfig.FTP.port)
			{
				remoteStorage += ":" + reposInfo.remoteStorageConfig.FTP.port;
			}
			if(reposInfo.remoteStorageConfig.rootPath)
			{
				remoteStorage += reposInfo.remoteStorageConfig.rootPath;
			}
			if(reposInfo.remoteStorageConfig.FTP.userName)
			{
				remoteStorage += ";userName=" + reposInfo.remoteStorageConfig.FTP.userName;
			}
			if(reposInfo.remoteStorageConfig.FTP.pwd)
			{
				remoteStorage += ";pwd=" + reposInfo.remoteStorageConfig.FTP.pwd;
			}
			break;
		case "sftp":
			remoteStorage = protocol + "://" + reposInfo.remoteStorageConfig.SFTP.host;
			if(reposInfo.remoteStorageConfig.SFTP.port)
			{
				remoteStorage += ":" + reposInfo.remoteStorageConfig.SFTP.port;
			}
			if(reposInfo.remoteStorageConfig.rootPath)
			{
				remoteStorage += reposInfo.remoteStorageConfig.rootPath;
			}
			if(reposInfo.remoteStorageConfig.SFTP.userName)
			{
				remoteStorage += ";userName=" + reposInfo.remoteStorageConfig.SFTP.userName;
			}
			if(reposInfo.remoteStorageConfig.SFTP.pwd)
			{
				remoteStorage += ";pwd=" + reposInfo.remoteStorageConfig.SFTP.pwd;
			}
			break;
		case "smb":
			remoteStorage = protocol + "://" + reposInfo.remoteStorageConfig.SMB.host;
			if(reposInfo.remoteStorageConfig.rootPath)
			{
				remoteStorage += reposInfo.remoteStorageConfig.rootPath;
			}
			if(reposInfo.remoteStorageConfig.SMB.userDomain)
			{
				remoteStorage += ";userDomain=" + reposInfo.remoteStorageConfig.SMB.userDomain;
			}
			if(reposInfo.remoteStorageConfig.SMB.userName)
			{
				remoteStorage += ";userName=" + reposInfo.remoteStorageConfig.SMB.userName;
			}
			if(reposInfo.remoteStorageConfig.SMB.pwd)
			{
				remoteStorage += ";pwd=" + reposInfo.remoteStorageConfig.SMB.pwd;
			}
			break;
		case "svn":
			remoteStorage = reposInfo.remoteStorageConfig.SVN.url;
			if(reposInfo.remoteStorageConfig.SVN.userName)
			{
				remoteStorage += ";userName=" + reposInfo.remoteStorageConfig.SVN.userName;
			}
			if(reposInfo.remoteStorageConfig.SVN.pwd)
			{
				remoteStorage += ";pwd=" + reposInfo.remoteStorageConfig.SVN.pwd;
			}
			break;
		case "git":
			remoteStorage = reposInfo.remoteStorageConfig.GIT.url;
			if(reposInfo.remoteStorageConfig.GIT.userName)
			{
				remoteStorage += ";userName=" + reposInfo.remoteStorageConfig.GIT.userName;
			}
			if(reposInfo.remoteStorageConfig.GIT.pwd)
			{
				remoteStorage += ";pwd=" + reposInfo.remoteStorageConfig.GIT.pwd;
			}
			break;
		}	
		$("#remoteStorage").val(remoteStorage);
		
	   	if(reposInfo.remoteStorageConfig.autoPull != undefined && reposInfo.remoteStorageConfig.autoPull == 1)
	   	{
	   		$("#autoPull").attr("checked","checked");
	   	}
	   	else
	   	{
	   		$("#autoPull").attr("checked",false);
	   	}
	   		
	   	if(reposInfo.remoteStorageConfig.autoPullForce != undefined && reposInfo.remoteStorageConfig.autoPullForce == 1)
	   	{
			$("#autoPullForce").attr("checked","checked");
	   	}
	   	else
	   	{
	   		$("#autoPullForce").attr("checked",false);
	   	}
	   		
	   	if(reposInfo.remoteStorageConfig.autoPush != undefined && reposInfo.remoteStorageConfig.autoPush == 1)
	   	{
	   		$("#autoPush").attr("checked","checked");
	   	}
	   	else
	   	{
			$("#autoPush").attr("checked",false);
	   	}
	   	
	   	if(reposInfo.remoteStorageConfig.autoPushForce != undefined && reposInfo.remoteStorageConfig.autoPushForce == 1)
	   	{
	   		$("#autoPushForce").attr("checked","checked");
	   	}
	   	else
	   	{
	   		$("#autoPushForce").attr("checked",false);
	   	}
	}

	function doSelectRemoteStorageProtocol()
	{
		var protocol = $("#remoteStorageProtocol").val();
		console.log("doSelectRemoteStorageProtocol protocol:" + protocol);
		if(protocol == undefined || protocol == "")
		{
			$("#remoteStorageConfig").hide();
			return;
		}
		
		switch(protocol)
		{
		case "ftp":
			$("#remoteStorage").attr('placeholder','ftp://192.168.0.1:21/path;userName=test;pwd=123456;');
			break;
		case "sftp":
			$("#remoteStorage").attr('placeholder','sftp://192.168.0.1:22/path;userName=test;pwd=123456;');
			break;
		case "smb":
			$("#remoteStorage").attr('placeholder','smb://192.168.0.1/path;userName=test;pwd=123456;');
			break;
		case "svn":
			$("#remoteStorage").attr('placeholder','http://gitee.com/SvnRepos/path;userName=test;pwd=123456;');
			break;
		case "git":
			$("#remoteStorage").attr('placeholder','http://gitee.com/GitRepos;userName=test;pwd=123456;');
			break;
		}
		$("#remoteStorageConfig").show();
	}

	function getRemoteStorageConfig()
	{   
		var protocol = $("#remoteStorageProtocol").val();
		console.log("getRemoteStorageConfig protocol:" + protocol);
		if(protocol == undefined || protocol == "")
		{
			return "none";
		}
		
		var prefix = "";
		switch(protocol)
		{
		case "svn":
			prefix = "svn://";
			break;
		case "git":
			prefix = "git://";
			break;
		}
		
	    var remoteStorage = $("#remoteStorage").val();	//remoteStorage
		var autoPull = $("#autoPull").is(':checked')? 1: 0;
		var autoPullForce = $("#autoPullForce").is(':checked')? 1: 0;
		var autoPush = $("#autoPush").is(':checked')? 1: 0;
		var autoPushForce = $("#autoPushForce").is(':checked')? 1: 0;
	    if(remoteStorage != undefined && remoteStorage != "")
		{
	    	remoteStorage += ";autoPull=" + autoPull + ";autoPullForce=" + autoPullForce + ";autoPush=" + autoPush + ";autoPushForce=" + autoPushForce;
			remoteStorage = prefix + remoteStorage;
		}
	    console.log("getRemoteStorageConfig remoteStorage:" + remoteStorage);
		return remoteStorage;
	}
	
	//According verCtrl value to disale the svnPath or not
	function doSelectVerCtrl()
	{
		console.log("doSelectVerCtrl ");
		var type = $("#type").val();	
		console.log("doSelectVerCtrl fsType:" + type);
		if(type == 1)
		{
			$("#realDocVerCtrlDiv").show();
		}
		else if(type == 2) //Hide RealDoc and VirtualDoc VerCtrl and Set VerCtrl = 无
		{
			$("#realDocVerCtrlDiv").hide();
		}
		else
		{
			$("#realDocVerCtrlDiv").show();
		}
		
		var verCtrl = $("#verCtrl").val();
		var isRemote = $("#isRemote").is(':checked')? 1: 0;
		
		//alert(verCtrl);
		if(verCtrl != 0) 			//show verRepos info
		{
			if(isRemote == 0)
			{
				$("#localVerRepos").hide();
				$("#remoteVerRepos").hide();
			}
			else
			{
				if(verCtrl == 1)
				{
					$("#localVerRepos").hide();
				}
				else
				{
					$("#localVerRepos").show();					
				}
				$("#remoteVerRepos").show();				
			}
			$("#isRemoteSetting").show();
			$("#verReposSetting").show();				
		}
		else	//hide verRepos info
		{
			$("#isRemoteSetting").hide();
			$("#verReposSetting").hide();				
		}   
	}
	
	//According verCtrl1 value to disale the svnPath1 or not
	function doSelectVerCtrl1()
	{
		console.log("doSelectVerCtrl1");
		var verCtrl = $("#verCtrl1").val();
		var isRemote = $("#isRemote1").is(':checked')? 1: 0;

		if(verCtrl != 0) 			//show verRepos info
		{
			if(isRemote == 0)
			{
				$("#localVerRepos1").hide();
				$("#remoteVerRepos1").hide();
			}
			else
			{
				if(verCtrl == 1)
				{
					$("#localVerRepos1").hide();
				}
				else
				{
					$("#localVerRepos1").show();
				}
				$("#remoteVerRepos1").show();				
			}
			$("#isRemoteSetting1").show();
			$("#verReposSetting1").show();				
		}
		else	//hide verRepos info
		{
			$("#isRemoteSetting1").hide();
			$("#verReposSetting1").hide();				
		}     
	}
	
	function doSetEncryptConfirm()
	{
		var en = $("#isEncryptEnabled").is(':checked')? 1: 0;
		if(en == 1)
		{
			qiao.bs.confirm({
		        id: 'setEncryptConfirm',
		        msg: '仓库文件将被加密存储，密钥一旦丢失将导致文件无法恢复，是否加密？',
		    },function(){
		    	//确认
		    	$("#isEncryptEnabled").attr("checked","checked");
		    },function(){
				//取消
		    	$("#isEncryptEnabled").attr("checked",false);			
		    });
		}
	}
	
	//页面初始化代码    
    $(function(){
    	console.log("editRepos Page init");
		$("#name").click().focus();
	});
</script>
                    
<div class="form-horizontal">
	<div class="form-group" hidden>
    	<label class="control-label col-lg-3" for="reposId">仓库ID</label>
    	<div class="col-lg-9">
      		<input type="text" class="form-control" id="reposId" name="reposId">
    	</div>
  	</div>
  
  	<!-- ReposName -->
  	<div class="form-group">
    	<label class="control-label col-lg-3" for="name">仓库名称</label>
    	<div class="col-lg-9">
      		<input type="text" class="form-control" id="name" name="name">
    	</div>
  	</div>
  
  	<!-- info -->
    <div class="form-group">
    	<label class="control-label col-lg-3" for="info">仓库简介</label>
       	<div class="col-lg-9">
        	<textarea type="text" class="form-control" id="info" name="info"/>
       	</div>
	</div>
    
    <div class="form-group">
		<label class="control-label col-lg-3" for="type">仓库类型</label>
       	<div class="col-lg-9">
			<select class="form-control" id="type" name="type"  onchange="doSelectFS();" style="width: 100%">   
				<option value="1" selected="selected">文件管理系统</option>   
				<!-- <option value="2">文件系统前置</option> -->
				<option value="3">SVN前置</option>   
				<option value="4">GIT前置</option>   
			</select>
       </div>
	</div>
              
    <div class="form-group">
		<label class="control-label col-lg-3" for="path">仓库位置</label>
		<div class="col-lg-9">
        	<input type="text" class="form-control" id="path" name="path">
       	</div>
	</div>      
   	
   	<div class="form-group">
    	<label class="control-label col-lg-3" for="realDocPath">存储位置</label>
        <div class="col-lg-9">
        	<input class="form-control" type="text" id="realDocPath"  placeholder="如使用默认位置，请留空！"  value="" style="width: 100%"/>
        </div>
    </div>
    
    <div class="form-group">
		<div id="remoteStorageDiv" style="margin-top:10px;padding-left:30px">
	    	<label>远程存储</label>
			<select class="form-control" id="remoteStorageProtocol" onchange="doSelectRemoteStorageProtocol();" style="width:86%">   
	        	<option value="">无</option>
	            <option value="ftp">FTP</option>   
	            <option value="sftp">SFTP</option>   
	            <option value="smb">SMB</option>  
	            <option value="svn">SVN</option>  
	            <option value="git">GIT</option>  
	        </select>		
	 	    <div id="remoteStorageConfig"  style="margin-top:10px; display:none">
	        	<input class="form-control" type="text" id="remoteStorage"  placeholder="sftp://192.168.0.1:22;userName=test;pwd=123456;"  value="" style="width: 86%"/>
	    		<label style="margin-left:1px">自动拉取<span style="margin-left:3px"><input type="checkbox" id="autoPull" value="0"></span></label>
		        <label style="margin-left:10px">强制拉取<span style="margin-left:3px"><input type="checkbox" id="autoPullForce" value="0"></span></label>
		        <label style="margin-left:10px">自动推送 <span style="margin-left:3px"><input type="checkbox" id="autoPush" value="0"></span></label>
		        <label style="margin-left:10px">强制推送<span style="margin-left:3px"><input type="checkbox" id="autoPushForce" value="0"></span></label>
			</div>
	     </div>
    </div>    

    <div class="form-group">
		<div id="realDocVerCtrlDiv" style="padding-left:30px">
	    	<label>版本管理 <span id="isRemoteSetting" style="margin-left:20px"><input type="checkbox" id="isRemote" value="0" onclick="doSelectVerCtrl()">自定义</span></label>
	       	<select class="form-control" id="verCtrl" onchange="doSelectVerCtrl();" style="width: 86%">   
	        	<option value="0">无</option>   
	            <option value="1">SVN</option>   
	            <option value="2">GIT</option>   
	        </select>
		    <div id="verReposSetting" style="padding-left:45px;display:none">
				<div id="localVerRepos">
					<label>版本仓库所在目录</label>
				    <input class="form-control" type="text" id="localSvnPath"  placeholder="如使用系统默认位置，请留空！"  value="" style="width: 85%"/>
			    </div>
			   	<div id="remoteVerRepos">
					<label>版本仓库链接</label>
				    <input class="form-control" type="text" id="svnPath"  placeholder="请填写版本仓库链接！" value="" style="width: 85%"/>
				    <label>用户名</label>
				    <input class="form-control" type="text" id="svnUser"  value="" style="width: 85%"/>
				    <label>密码</label>
			        <input class="form-control" type="password" id="svnPwd" value="" style="width: 85%"/>           
			    </div>	
			</div>
	     </div>
	       	
	     <div id="virtualDocVerCtrlDiv"  style="margin-top:10px;padding-left:30px;display:none">
	     	<label >备注版本管理<span id="isRemoteSetting1" style="margin-left:20px"><input  type="checkbox" id="isRemote1" value="0" onclick="doSelectVerCtrl1()">自定义</span></label>
		    <select class="form-control" id="verCtrl1" onchange="doSelectVerCtrl1();" style="width: 86%">   
		    	<option value="0">无</option>   
		        <option value="1">SVN</option>   
		        <option value="2">GIT</option>  
		    </select>
		    <div id="verReposSetting1" style="padding-left:45px;display:none">
				<div id="localVerRepos1">            
					<label>版本仓库所在目录</label>
				    <input class="form-control" type="text" id="localSvnPath1"  placeholder="如使用系统默认位置，请留空！" value="" style="width: 85%"/>
		        </div>
		        <div id="remoteVerRepos1">
					<label>版本仓库链接</label>
				    <input class="form-control" type="text" id="svnPath1"  placeholder="请填写版本仓库链接！" value="" style="width: 85%"/>
				    <label>用户名</label>
				    <input class="form-control" type="text" id="svnUser1"  value="" style="width: 85%"/>
				    <label>密码</label>
				    <input class="form-control" type="password" id="svnPwd1" value="" style="width: 85%"/>          
				</div>
			</div>
		</div>
	</div>                
    
	<div class="form-group">
		<div name="textSearchEnablelDiv" style="margin-top:10px;padding-left:30px;">
	            <label>全文搜索 <span style="margin-left:5px"><input type="checkbox" id="isTextSearchEnabled" value="0"></span></label>
		</div>
	</div>
	
	<div class="form-group">
		<div name="encryptEnablelDiv" style="margin-top:10px;padding-left:30px;">
	            <label>仓库加密 <span style="margin-left:5px"><input type="checkbox" id="isEncryptEnabled" value="0" onclick="doSetEncryptConfirm()"></span></label>
		</div>
	</div>
              
                    
    <!-- Buttons -->
    <div class="form-group">
  		<div class="col-lg-offset-9 col-lg-2">
        	<button type="submit" class="btn btn-success" id="btn_editRepos" onclick="saveReposBasicSetting()">保存</button>
        </div>
    </div>
</div>
